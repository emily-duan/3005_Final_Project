<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Book Tracker</title>
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script> -->
    <!-- <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script> -->

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/index.css" />
  </head>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const genreCheckboxes = document.querySelectorAll(
        '#genre-dropdown-toggle + .dropdown-menu input[type="checkbox"]'
      );
      const genresInput = document.getElementById("genres");

      genreCheckboxes.forEach(function (checkbox) {
        checkbox.addEventListener("change", function () {
          const selectedGenres = Array.from(genreCheckboxes)
            .filter((cb) => cb.checked)
            .map((cb) => cb.value);
          genresInput.value = selectedGenres.join(",");
        });
      });
    });
  </script>

  <body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="javascript:void(0)">Book Tracker</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#mynavbar"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="mynavbar">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="/list-books">Books</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/list-authors">Authors</a>
            </li>
            <!-- <li class="nav-item">
              <a class="nav-link" href="javascript:void(0)">Link</a>
            </li> -->
          </ul>
          <form class="d-flex" action="/search" method="GET">
            <input class="form-control me-2" type="text" name="title" />
            <button class="btn btn-primary" type="submit">
              Search by Title
            </button>
          </form>
        </div>
      </div>
    </nav>
    <br />

    <div class="container my-5">
      <h3 class="text-center mb-4">Add a Book</h3>
      <form id="add-book-form" action="/submit" method="POST">
        <label for="Book Title"> Book Title</label>
        <input type="text" id="title" name="title" required />
        <label for="Author Name"> Author Name </label>
        <input id="author" type="text" name="author" required />
        <label for="genres">Genres</label>

        <!-- drop-box to select genre -->
        <div class="dropdown">
          <button
            id="genre-dropdown-toggle"
            type="button"
            id="multiSelectDropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Select
          </button>
          <ul class="dropdown-menu" aria-labelledby="multiSelectDropdown">
            <li>
              <label>
                <input type="checkbox" value="Fantasy" />
                Fantasy
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Romance" />
                Romance
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Science Fiction" />
                Science Fiction
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Dystopian" />
                Dystopian
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Action/Adventure" />
                Action/Adventure
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Thriller" />
                Thriller
              </label>
            </li>
          </ul>
        </div>
        <!-- <select id="genres" name="genres" multiple>
      
        <option value="Mystery">Mystery</option>
        <option value="Horror">Horror</option>
        <option value="Thriller/Suspense">Thriller/Suspense</option>
        <option value="Historical Fiction">Historical Fiction</option>
        <option value="LGBTQ+">LGBTQ+</option>
        <option value="Literary Fiction">Literary Fiction</option>
        <option value="Graphic Novel">Graphic Novel</option>
        <option value="Short Story">Short Story</option>
        <option value="Memoir/Autobiography">Memoir/Autobiography</option>
        <option value="Biography">Biography</option>
        <option value="Food and Drink">Food and Drink</option>
        <option value="Art/Photography">Art/Photography</option>
        <option value="Self-help">Self-help</option>
        <option value="History">History</option>
        <option value="Travel">Travel</option>
        <option value="True Crime">True Crime</option>
        <option value="Humour">Humour</option>
        <option value="Religion/Spirituality">Religion/Spirituality</option>
        <option value="Guide/How-to">Guide/How-to</option>
        <option value="Science & Technology">Science & Technology</option>
        <option value="Fairy Tale, Fables, Folk Tales">
          Fairy Tale, Fables, Folk Tales
        </option>
        <option value="Contemporary">Contemporary</option>
        <option value="Poetry">Poetry</option>
      </select> -->

        <label for="Year Published"> Year Published </label>
        <input id="year" type="text" name="year" required />

        <!-- from chatgpt for the drop box -->
        <input type="hidden" id="genres" name="genres" />

        <input type="submit" value="Add Book" />
      </form>
    </div>
    <!-- <div>
      <a href="/list-books"> Book List</a>
    </div>
    <div>
      <a href="/list-authors"> Author List </a>
    </div>
    <div>
      <a href="/list-genres"> Genre List </a>
    </div> -->
    <!-- <div>
      <a href="/search"> Search</a>
    </div> -->
  </body>
</html>
