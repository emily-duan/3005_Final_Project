<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Book Tracker</title>
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script> -->
    <!-- <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script> -->

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/index.css" />
  </head>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const genreCheckboxes = document.querySelectorAll(
        '#genre-dropdown-toggle + .dropdown-menu input[type="checkbox"]'
      );
      const genresInput = document.getElementById("genres");

      genreCheckboxes.forEach(function (checkbox) {
        checkbox.addEventListener("change", function () {
          const selectedGenres = Array.from(genreCheckboxes)
            .filter((cb) => cb.checked)
            .map((cb) => cb.value);
          genresInput.value = selectedGenres.join(",");
        });
      });
    });
  </script>

  <!-- creating a navigation bar at the top of the page using bootstrap -->
  <body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="javascript:void(0)">Book Tracker</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#mynavbar"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="mynavbar">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="/list-books">Books</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/list-authors">Authors</a>
            </li>
            <!-- <li class="nav-item">
              <a class="nav-link" href="javascript:void(0)">Link</a>
            </li> -->
          </ul>
          <form class="d-flex" action="/search" method="GET">
            <input class="form-control me-2" type="text" name="title" />
            <button class="btn btn-primary" type="submit">
              Search by Title
            </button>
          </form>
        </div>
      </div>
    </nav>
    <br />

    <!-- section that allows user to add a book to the database -->
    <div class="container my-5">
      <h3 class="text-center mb-4">Add a Book</h3>
      <form id="add-book-form" action="/submit" method="POST">
        <label for="Book Title"> Book Title</label>
        <input type="text" id="title" name="title" required />
        <label for="Author Name"> Author Name </label>
        <input id="author" type="text" name="author" required />
        <label for="genres">Genres</label>

        <!-- drop-box to select genre -->
        <!-- <div class="dropdown">
          <button
            id="genre-dropdown-toggle"
            type="button"
            id="multiSelectDropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Select
          </button>
          <ul class="dropdown-menu" aria-labelledby="multiSelectDropdown">
            <li>
              <label>
                <input type="checkbox" value="Fantasy" />
                Fantasy
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Romance" />
                Romance
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Science Fiction" />
                Science Fiction
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Dystopian" />
                Dystopian
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Action/Adventure" />
                Action/Adventure
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Thriller" />
                Thriller
              </label>
            </li>
          </ul>
        </div> -->
        <!-- drop-box to select genre -->
        <div class="dropdown">
          <button
            id="genre-dropdown-toggle"
            type="button"
            id="multiSelectDropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Select
          </button>
          <ul class="dropdown-menu" aria-labelledby="multiSelectDropdown">
            <li>
              <label>
                <input type="checkbox" value="Fantasy" />
                Fantasy
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Romance" />
                Romance
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Science Fiction" />
                Science Fiction
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Dystopian" />
                Dystopian
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Action/Adventure" />
                Action/Adventure
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Thriller" />
                Thriller
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Mystery" />
                Mystery
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Horror" />
                Horror
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Thriller/Suspense" />
                Thriller/Suspense
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Historical Fiction" />
                Historical Fiction
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="LGBTQ+" />
                LGBTQ+
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Literary Fiction" />
                Literary Fiction
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Graphic Novel" />
                Graphic Novel
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Short Story" />
                Short Story
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Memoir/Autobiography" />
                Memoir/Autobiography
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Biography" />
                Biography
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Food and Drink" />
                Food and Drink
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Art/Photography" />
                Art/Photography
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Self-help" />
                Self-help
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="History" />
                History
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Travel" />
                Travel
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="True Crime" />
                True Crime
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Humour" />
                Humour
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Religion/Spirituality" />
                Religion/Spirituality
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Guide/How-to" />
                Guide/How-to
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Science & Technology" />
                Science & Technology
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Fairy Tale, Fables, Folk Tales" />
                Fairy Tale, Fables, Folk Tales
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Contemporary" />
                Contemporary
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" value="Poetry" />
                Poetry
              </label>
            </li>
          </ul>
        </div>

        <label for="Year Published"> Year Published </label>
        <input id="year" type="text" name="year" required />

        <!-- from chatgpt for the drop box -->
        <input type="hidden" id="genres" name="genres" />

        <input type="submit" value="Add Book" />
      </form>
    </div>
    <!-- <div>
      <a href="/list-books"> Book List</a>
    </div>
    <div>
      <a href="/list-authors"> Author List </a>
    </div>
    <div>
      <a href="/list-genres"> Genre List </a>
    </div> -->
    <!-- <div>
      <a href="/search"> Search</a>
    </div> -->
  </body>
</html>
